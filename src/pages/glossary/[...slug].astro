---
import Glossary from "@components/glossary.astro";
import Basic from "@layouts/basic.astro";
import { getCollection, type CollectionEntry } from "astro:content";
import { glossaryHasLongFormExplanation } from "@libs/glossary";
export async function getStaticPaths() {
    const glossaryPages = await getCollection("glossary");
    return glossaryPages
        .filter(glossaryHasLongFormExplanation)
        .map((entry) => ({
            params: {
                slug: entry.slug,
            },
            props: {
                entry,
            },
        }));
}

interface Props {
    entry: CollectionEntry<"glossary">;
}

const { entry } = Astro.props;
const { Content } = await entry.render();
---

<Basic
    seo={{
        title: entry.data.title,
        titleTemplate: "%s - glossary - powerd6/documentation",
        description: entry.data.definition,
    }}
>
    <h1><Glossary word={entry.data.title} /></h1>
    <Content />
</Basic>